---
import { Icon } from "astro-icon/components";

interface Props {
  href: string;
  icon?: string;
  iconPosition?: "left" | "right";
  variant?: "primary" | "secondary";
  class?: string;
}

const {
  href,
  icon,
  iconPosition = "right",
  variant = "primary",
  class: className = "",
} = Astro.props;

const variantClasses =
  variant === "primary"
    ? "bg-primary-600 hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600 text-white border-primary-600"
    : "border-2 border-primary-600 dark:border-primary-400 text-primary-700 dark:text-primary-300 hover:bg-primary-50 dark:hover:bg-primary-900/20";
---

<a
  href={href}
  class={`btn-base ${variantClasses} ${className} px-6 py-3 rounded-lg font-medium inline-flex items-center justify-center gap-2 transition-all duration-300 hover:shadow-lg hover:scale-105 group relative overflow-hidden`}
>
  <!-- Animated background gradient -->
  <div
    class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-700"
  >
  </div>

  <!-- Content -->
  <span class="relative z-10 flex items-center gap-2">
    {
      icon && iconPosition === "left" && (
        <Icon
          name={icon}
          class="w-5 h-5 transition-transform duration-300 group-hover:scale-110"
        />
      )
    }
    <slot />
    {
      icon && iconPosition === "right" && (
        <Icon
          name={icon}
          class="w-5 h-5 transition-transform duration-300 group-hover:translate-x-1"
        />
      )
    }
  </span>
</a>

<style>
  .btn-base {
    box-shadow:
      0 2px 4px -1px rgba(0, 0, 0, 0.06),
      0 1px 2px -1px rgba(0, 0, 0, 0.04);
  }

  .btn-base:hover {
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
</style>
